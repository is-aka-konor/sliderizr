!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("@angular/core"),require("@angular/router"),require("rxjs/operators"),require("@angular/animations"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-sliderizr",["exports","rxjs","@angular/core","@angular/router","rxjs/operators","@angular/animations","@angular/common"],t):t((e=e||self)["ng-sliderizr"]={},e.rxjs,e.ng.core,e.ng.router,e.rxjs.operators,e.ng.animations,e.ng.common)}(this,function(e,t,n,o,r,i,a){"use strict";var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){function e(){this._afterClosed=new t.Subject}return Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this.componentRef?this.componentRef.instance:null},enumerable:!0,configurable:!0}),e.prototype.close=function(e){var t=this;this.beforeClose?this.beforeClose().then(function(){t.internalClose()}):this.internalClose(e)},e.prototype.internalClose=function(e){this.componentRef.destroy(),this._afterClosed.next(e),this._afterClosed.complete()},Object.defineProperty(e.prototype,"afterClosed",{get:function(){return this._afterClosed.asObservable()},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(),p=function(){function e(e,t){this._componentFactoryResolver=e,this._injector=t}return e.prototype.open=function(e,o,r){new t.Subject;var i=new c;r=r||this._injector;var a=this._componentFactoryResolver.resolveComponentFactory(e),l=n.ReflectiveInjector.resolveAndCreate([{provide:c,useValue:i}],r),s=o.childPanelHost.viewContainerRef;s.clear();var p=s.createComponent(a,null,l);return i.componentRef=p,i},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[{type:n.ComponentFactoryResolver},{type:n.Injector}]},e}(),u=function(){function e(e,t,n){this._parent=e,this._element=t,this._injector=n,this.routeAnimation=!0,this.isActive=!1,this.hostClass=!0,this.closeText="close"}return Object.defineProperty(e.prototype,"canClose",{get:function(){return this._canClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this._element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onPanelClick=function(e){this.isElementChild(e.target)&&(this._parent.setActivePanel(this),this.scrollVisible())},e.prototype.isElementChild=function(e){for(;e&&"SZ-PANEL"!==e.tagName;)e=e.parentElement;return e&&e===this._element.nativeElement},e.prototype.onAnimationComplete=function(){var e=this;setTimeout(function(){e.scrollVisible()},0)},e.prototype.scrollVisible=function(){this._parent.scrollLeft=this.getScrollAmount()},e.prototype.getOffsetLeft=function(){return this.nativeElement.getBoundingClientRect().left-this._parent.boundingBox.left+this._parent.scrollLeft},e.prototype.getScrollAmount=function(){var e=this._parent.scrollLeft,t=this._parent.outerWidth,n=this.nativeElement.offsetWidth,o=this.getOffsetLeft(),r=o+n,i=e;return e>o?i=o:e<r-t&&(i=r-t+50),i},e.propDecorators={routeAnimation:[{type:n.HostBinding,args:["@panelRouteAnimation"]}],isActive:[{type:n.HostBinding,args:["class.active"]}],hostClass:[{type:n.HostBinding,args:["class.sz-panel"]}],heading:[{type:n.Input}],closeText:[{type:n.Input}],onPanelClick:[{type:n.HostListener,args:["click",["$event"]]}],onAnimationComplete:[{type:n.HostListener,args:["@panelRouteAnimation.done"]}]},e}(),f=function(){function e(){}return Object.defineProperty(e.prototype,"nativeWindow",{get:function(){return window},enumerable:!0,configurable:!0}),e.prototype.scrollTo=function(e,t,n){var o=this;if(this._scrollTimeoutId&&(window.clearTimeout(this._scrollTimeoutId),this._scrollTimeoutId=null),!(n<=0)){var r=(t-e.scrollLeft)/n*10;this._scrollTimeoutId=window.setTimeout(function(){o._scrollTimeoutId=null,e.scrollLeft=e.scrollLeft+r,e.scrollLeft!==t&&o.scrollTo(e,t,n-10)},10)}},e.decorators=[{type:n.Injectable}],e}(),h=function(){function e(e,t,n){this.element=e,this._cdr=t,this._windowRef=n}return Object.defineProperty(e.prototype,"boundingBox",{get:function(){return this.nativeElement.getBoundingClientRect()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerWidth",{get:function(){return this.nativeElement.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this.nativeElement.scrollLeft},set:function(e){this._windowRef.scrollTo(this.nativeElement,e,200)},enumerable:!0,configurable:!0}),e.prototype.setActivePanel=function(e,t){var n=this;void 0===t&&(t=!1),t?this._windowRef.nativeWindow.setTimeout(function(){n.setActivePanel(e),n._cdr.markForCheck()}):(this._activePanel&&(this._activePanel.isActive=!1),this._activePanel=e,this._activePanel.isActive=!0)},e.decorators=[{type:n.Component,args:[{selector:"sz-panel-host",template:"<ng-content></ng-content>",encapsulation:n.ViewEncapsulation.None,styles:["sz-panel-host{white-space:nowrap;position:fixed;top:100px;right:0;bottom:0;left:0;overflow:auto}"]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:f}]},e}(),d=function(){function e(e){this.viewContainerRef=e}return e.decorators=[{type:n.Directive,args:[{selector:"[szChildPanelHost]"}]}],e.ctorParameters=function(){return[{type:n.ViewContainerRef}]},e}(),m=i.trigger("panelRouteAnimation",[i.transition(":enter",[i.style({transform:"translateX(-100%)",zIndex:-1}),i.animate("200ms",i.style({transform:"translateX(0%)",zIndex:-1}))])]),_=(i.trigger("panelExitAnimation",[i.transition(":leave",[i.query("sz-panel",[i.style({transform:"translateX(0)",zIndex:-1}),i.animate("200ms",i.style({transform:"translateX(-100%)",zIndex:-1}))])])]),function(e){function i(o,r,i,a,l,s){var c=e.call(this,o,a,i)||this;return c._panelService=r,c._route=l,c._router=s,c._destroyed$=new t.Subject,c.afterChildClosed=new n.EventEmitter,c.afterChildOpened=new n.EventEmitter,c}return s(i,e),Object.defineProperty(i.prototype,"childComponent",{get:function(){return this._childOutlet.component},enumerable:!0,configurable:!0}),i.prototype.ngOnInit=function(){var e=this;this._canClose=this._route.root!==this._route.parent,this._route.params.pipe(r.takeUntil(this._destroyed$)).subscribe(function(){e._parent.setActivePanel(e,!0)})},i.prototype.openChild=function(e){var t=this;return this._childOutlet.isActivated&&this.closeChildRoute(),this._activeAnon=this._panelService.open(e,this,this._injector),this._activeAnon.afterClosed.subscribe(function(){t._parent.setActivePanel(t),t._activeAnon=null}),this._parent.setActivePanel(this._activeAnon.componentInstance),this._activeAnon},i.prototype.close=function(){this._router.navigate(["./"],{relativeTo:this._route.parent})},i.prototype.closeChildRoute=function(){this._router.navigate(["./"],{relativeTo:this._route})},i.prototype.ngOnDestroy=function(){this._destroyed$.next()},i.prototype.onChildDeactivate=function(e){this._parent.setActivePanel(this),this.afterChildClosed.emit(e)},i.prototype.onChildActivate=function(e){this.afterChildOpened.emit(e),this._activeAnon&&this._activeAnon.close()},i.decorators=[{type:n.Component,args:[{selector:"sz-panel",template:'<header class="sz-panel__header">\r\n    <ng-template [szTemplateHost]="headerTemplate"></ng-template>\r\n\r\n    <h1 *ngIf="!headerTemplate && !!heading">\r\n        <ng-template [szTemplateHost]="headingRef"></ng-template>\r\n        {{heading}}\r\n    </h1>\r\n\r\n    <button class="sz-panel__close" (click)="close()" *ngIf="!headerTemplate && canClose">\r\n        <span *ngIf="!closeContentRef">{{closeText}}</span>\r\n        <ng-template [szTemplateHost]="closeContentRef"></ng-template>\r\n    </button>\r\n</header>\r\n\r\n<div class="sz-panel__container">\r\n    <ng-content></ng-content>\r\n</div>\r\n\r\n<div class="sz-panel__child">\r\n    <router-outlet (activate)=\'onChildActivate($event)\' (deactivate)="onChildDeactivate($event)"></router-outlet>\r\n</div>\r\n\r\n<div class="sz-panel__child">\r\n    <ng-template szChildPanelHost></ng-template>\r\n</div>\r\n',animations:[m],encapsulation:n.ViewEncapsulation.None,styles:[".sz-panel{display:block;width:600px;height:100%;white-space:nowrap;line-height:0;font-size:0;position:relative;z-index:10}.sz-panel.active>.sz-panel__container,.sz-panel.active>.sz-panel__header{--sz-panel-header__fill:var(--sz-panel-header__fill--active, #ff0000);--sz-panel-content__fill:var(--sz-panel-content__fill--active, #ff0000)}.sz-panel__header{height:var(--sz-panel-header__height,30px);position:absolute;top:0;left:0;right:0;background-color:var(--sz-panel-header__fill,#fff);padding:0 16px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.sz-panel__header h1{margin:0}.sz-panel__close{position:absolute;top:0;right:0}.sz-panel__container{margin-top:var(--sz-panel-header__height,30px);width:600px;display:inline-block;vertical-align:top;height:calc(100% - var(--sz-panel-header__height,30px));line-height:initial;font-size:initial;position:relative;border-left:1px solid #ddd;overflow-y:scroll;background-color:var(--sz-panel-content__fill,#fff);padding:16px;white-space:normal}.sz-panel__child{display:inline-block;height:100%}"]}]}],i.ctorParameters=function(){return[{type:h,decorators:[{type:n.Optional}]},{type:p},{type:n.Injector},{type:n.ElementRef},{type:o.ActivatedRoute},{type:o.Router}]},i.propDecorators={childPanelHost:[{type:n.ViewChild,args:[d,{"static":!0}]}],_childOutlet:[{type:n.ViewChild,args:[o.RouterOutlet,{"static":!0}]}],afterChildClosed:[{type:n.Output}],afterChildOpened:[{type:n.Output}]},i}(u)),g=function(e){function t(t,n,o,r){var i=e.call(this,o,n,t)||this;return i._pi=r,i._canClose=!0,i}return s(t,e),t.prototype.ngOnInit=function(){this._parent.setActivePanel(this,!0)},t.prototype.close=function(){this._pi.close()},t.decorators=[{type:n.Component,args:[{selector:"sz-anonymous-panel",template:'\x3c!-- <header class="sz-panel__header">\r\n    <ng-template [szTemplateHost]="headerTemplate"></ng-template>\r\n\r\n    <h1 *ngIf="!headerTemplate && !!heading">\r\n        <ng-template [szTemplateHost]="headingRef"></ng-template>\r\n        {{heading}}\r\n    </h1>\r\n    \r\n    <button class="sz-panel__close" (click)="close()" *ngIf="!headerTemplate && canClose">\r\n        <span *ngIf="!closeContentRef">{{closeText}}</span>\r\n        <ng-template [szTemplateHost]="closeContentRef"></ng-template>\r\n    </button>\r\n</header>\r\n\r\n<div class="sz-panel__container">\r\n    <ng-content></ng-content>\r\n</div>\r\n\r\n<div class="sz-panel__child">\r\n    <ng-template szChildPanelHost></ng-template>\r\n</div> --\x3e\r\n',animations:[m],encapsulation:n.ViewEncapsulation.None,styles:[".sz-panel{display:block;width:600px;height:100%;white-space:nowrap;line-height:0;font-size:0;position:relative;z-index:10}.sz-panel.active>.sz-panel__container,.sz-panel.active>.sz-panel__header{--sz-panel-header__fill:var(--sz-panel-header__fill--active, #ff0000);--sz-panel-content__fill:var(--sz-panel-content__fill--active, #ff0000)}.sz-panel__header{height:var(--sz-panel-header__height,30px);position:absolute;top:0;left:0;right:0;background-color:var(--sz-panel-header__fill,#fff);padding:0 16px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.sz-panel__header h1{margin:0}.sz-panel__close{position:absolute;top:0;right:0}.sz-panel__container{margin-top:var(--sz-panel-header__height,30px);width:600px;display:inline-block;vertical-align:top;height:calc(100% - var(--sz-panel-header__height,30px));line-height:initial;font-size:initial;position:relative;border-left:1px solid #ddd;overflow-y:scroll;background-color:var(--sz-panel-content__fill,#fff);padding:16px;white-space:normal}.sz-panel__child{display:inline-block;height:100%}"]}]}],t.ctorParameters=function(){return[{type:n.Injector},{type:n.ElementRef},{type:h,decorators:[{type:n.Optional}]},{type:c,decorators:[{type:n.Optional}]}]},t}(u),y=function(){function e(e,t,n){(n||t).headingRef=e}return e.decorators=[{type:n.Directive,args:[{selector:"[szHeading]"}]}],e.ctorParameters=function(){return[{type:n.TemplateRef},{type:_,decorators:[{type:n.Optional}]},{type:g,decorators:[{type:n.Optional}]}]},e}(),v=function(){function e(e){this.viewRef=e}return Object.defineProperty(e.prototype,"szTemplateHost",{get:function(){return this._szTemplateHost},set:function(e){this._szTemplateHost=e,e&&this.viewRef.createEmbeddedView(e)},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Directive,args:[{selector:"[szTemplateHost]"}]}],e.ctorParameters=function(){return[{type:n.ViewContainerRef}]},e.propDecorators={szTemplateHost:[{type:n.Input}]},e}(),z=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[a.CommonModule],declarations:[v],exports:[v],providers:[p,f]}]}],e}(),b=function(){function e(e,t,n){(n||t).headerTemplate=e}return e.decorators=[{type:n.Directive,args:[{selector:"[szHeaderTemplate]"}]}],e.ctorParameters=function(){return[{type:n.TemplateRef},{type:_,decorators:[{type:n.Optional}]},{type:g,decorators:[{type:n.Optional}]}]},e}(),C=function(){function e(e,t,n){(t||n).closeContentRef=e}return e.decorators=[{type:n.Directive,args:[{selector:"[szCloseContent]"}]}],e.ctorParameters=function(){return[{type:n.TemplateRef},{type:_,decorators:[{type:n.Optional}]},{type:g,decorators:[{type:n.Optional}]}]},e}(),w=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[_,y,h,d,g,C,b],imports:[a.CommonModule,o.RouterModule,z],exports:[_,y,h,g,C,b]}]}],e}();e.SliderizrModule=w,e.SzActivePanel=c,e.SzAnonymousPanelComponent=g,e.SzPanelComponent=_,e.SzPanelHeadingDirective=y,e.SzPanelHostComponent=h,e.SzPanelService=p,e.ɵa=u,e.ɵb=f,e.ɵc=m,e.ɵd=d,e.ɵe=C,e.ɵf=b,e.ɵg=z,e.ɵh=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-sliderizr.umd.min.js.map